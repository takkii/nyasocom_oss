#!/usr/bin/env ruby
# frozen_string_literal: true

# vim: filetype=ruby

Encoding.default_internal = 'UTF-8'
Encoding.default_external = 'UTF-8'

begin
  require 'version'

  v = /\A-v\z/

  one = ARGV[0]

  if one.nil?
    require 'bundler'
    Bundler.require

    require './stand'
    run Sinatra::Application

  elsif one.match?(v)
    puts ''
    puts 'STATUS'.center(60, '-')
    puts ''
    puts "NYASOCOM_VERSION : #{NYASOCOM::VERSION}"
    puts <<-EOF

Copyright (c) 2024 Takayuki Kamiyama

    EOF
    puts 'STATUS'.center(60, '-')
    puts ''
  else
    puts 'Please input -v option.'
  end
rescue StandardError => e
  puts e.backtrace
ensure
  GC.compact
end

__END__
